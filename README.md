---

# Мобильный календарь

---

## Короткое описание

Минималистичный, полностью функциональный **мобильный календарь** на Next + TypeScript. Позволяет выбирать даты, сохранять их в избранное через долгое нажатие, просматривать и искать по списку сохранённых дат. Все данные сохраняются локально, интерфейс адаптирован под сенсорные устройства, с плавными анимациями и интуитивным управлением.

---

## Какие решения выбрали и почему

| Задача | Решение | Обоснование |
|-------|--------|------------|
| **Инициализация данных из localStorage** | Ленивая инициализация через `useState(() => {...})` | Следуем рекомендациям React: избегаем каскадных рендеров и не используем `useEffect` для вычисления состояния на основе внешних данных ([You Might Not Need an Effect](https://react.dev/learn/you-might-not-need-an-effect)) |
| **Анимации и переходы** | `fmotion` | Декларативный, производительный способ добавить плавные анимации без ручного управления DOM |
| **Переключение месяцев** | Анимация свайпа с использованием `motion.div` и `AnimatePresence mode="wait"` | Создаёт ощущение нативного поведения, как в мобильных ОС |
| **Сохранение дат** | Долгое нажатие → подтверждающая модалка | Чёткое разделение логики: обычный клик — выбор, долгое нажатие — сохранение (соответствует UX-конвенциям мобильных приложений) |
| **Поиск по сохранённым датам** | Фильтрация на лету с `toLocaleDateString` | Поддержка поиска по дню недели, дате, месяцу и году без сложной логики или внешних библиотек |
| **Архитектура компонентов** | Чистые компоненты с явными props, без побочных эффектов | Упрощает переиспользование, тестирование и поддержку; состояние управляется централизованно в родителе |

---

## На что сделали упор

- ✅ **Соблюдение best practices React**:  
  — Нет синхронных `setState` внутри `useEffect`  
  — Нет хранения вычисляемых данных в состоянии  
  — Инициализация `localStorage` через ленивую `useState`
- ✅ **Мобильный UX**: большие тач-зоны, модальные окна снизу, долгое нажатие, закрытие по фону.
- ✅ **Производительность**: вычисления только при необходимости, минимизация ререндеров.
- ✅ **Анимации как часть пользовательского опыта**: плавные переходы, свайп между месяцами, визуальная обратная связь.
- ✅ **Полная типизация**: TypeScript используется на 100% — от props до утилит.
